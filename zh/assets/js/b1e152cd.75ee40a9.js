"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[99774],{14404:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var n=o(87462),a=(o(67294),o(3905));o(61839);const i={title:"SonarQube Server",sidebar_position:19,description:"Config UI instruction for SonarQube"},l=void 0,r={unversionedId:"Configuration/SonarQube",id:"Configuration/SonarQube",title:"SonarQube Server",description:"Config UI instruction for SonarQube",source:"@site/docs/Configuration/SonarQube.md",sourceDirName:"Configuration",slug:"/Configuration/SonarQube",permalink:"/zh/docs/Configuration/SonarQube",draft:!1,editUrl:"https://github.com/apache/incubator-devlake-website/edit/main/docs/Configuration/SonarQube.md",tags:[],version:"current",sidebarPosition:19,frontMatter:{title:"SonarQube Server",sidebar_position:19,description:"Config UI instruction for SonarQube"},sidebar:"docsSidebar",previous:{title:"PagerDuty",permalink:"/zh/docs/Configuration/PagerDuty"},next:{title:"TAPD",permalink:"/zh/docs/Configuration/Tapd"}},s={},c=[{value:"Step 1 - Add Data Connections",id:"step-1---add-data-connections",level:2},{value:"Step 1.1 - Authentication",id:"step-11---authentication",level:3},{value:"Connection Name",id:"connection-name",level:4},{value:"Endpoint URL",id:"endpoint-url",level:4},{value:"Token",id:"token",level:4},{value:"Proxy URL (Optional)",id:"proxy-url-optional",level:4},{value:"Fixed Rate Limit (Optional)",id:"fixed-rate-limit-optional",level:4},{value:"Test and Save Connection",id:"test-and-save-connection",level:4},{value:"Step 1.2 - Add Data Scopes",id:"step-12---add-data-scopes",level:3},{value:"Step 2 - Collect SonarQube Data in a Project",id:"step-2---collect-sonarqube-data-in-a-project",level:2},{value:"Step 2.1 - Create a Project",id:"step-21---create-a-project",level:3},{value:"Step 2.2 - Add a SonarQube Connection",id:"step-22---add-a-sonarqube-connection",level:3},{value:"Step 2.3 - Set the Sync Policy",id:"step-23---set-the-sync-policy",level:3},{value:"Step 2.4 - Start Data Collection",id:"step-24---start-data-collection",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}],u={toc:c};function p(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Visit Config UI at: ",(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost:4000"),"."),(0,a.kt)("h2",{id:"step-1---add-data-connections"},"Step 1 - Add Data Connections"),(0,a.kt)("h3",{id:"step-11---authentication"},"Step 1.1 - Authentication"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"sonarqube-add-data-connections",src:o(32314).Z,width:"896",height:"720"})),(0,a.kt)("h4",{id:"connection-name"},"Connection Name"),(0,a.kt)("p",null,"Name your connection."),(0,a.kt)("h4",{id:"endpoint-url"},"Endpoint URL"),(0,a.kt)("p",null,"This should be a valid REST API endpoint"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"http://<host>:<port>/api/"))),(0,a.kt)("p",null,"The endpoint url should end with ",(0,a.kt)("inlineCode",{parentName:"p"},"/"),"."),(0,a.kt)("h4",{id:"token"},"Token"),(0,a.kt)("p",null,"Please use a system admin account to create the SonarQube token, because some SonarQube APIs require this permission to list all projects. Learn about ",(0,a.kt)("a",{parentName:"p",href:"https://docs.sonarsource.com/sonarqube/8.9/user-guide/user-account/generating-and-using-tokens/#generating-a-token"},"how to create a SonarQube token"),"."),(0,a.kt)("h4",{id:"proxy-url-optional"},"Proxy URL (Optional)"),(0,a.kt)("p",null,"If you are behind a corporate firewall or VPN you may need to utilize a proxy server. Enter a valid proxy server address on your network, e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"http://your-proxy-server.com:1080")),(0,a.kt)("h4",{id:"fixed-rate-limit-optional"},"Fixed Rate Limit (Optional)"),(0,a.kt)("p",null,"DevLake uses a dynamic rate limit at around 18,000 requests/hour to collect SonarQube data. You can adjust the rate limit if you want to increase or lower the speed."),(0,a.kt)("h4",{id:"test-and-save-connection"},"Test and Save Connection"),(0,a.kt)("p",null,"Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Test Connection"),", if the connection is successful, click ",(0,a.kt)("inlineCode",{parentName:"p"},"Save Connection")," to add the connection."),(0,a.kt)("h3",{id:"step-12---add-data-scopes"},"Step 1.2 - Add Data Scopes"),(0,a.kt)("p",null,"Choose the ",(0,a.kt)("strong",{parentName:"p"},"SonarQube projects")," to collect. The following data entities in the selected projects will be collected:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Code Quality Domain: SonarQube issues, issue code blocks, file metrics, hotspots, etc."),(0,a.kt)("li",{parentName:"ul"},"Cross Domain: SonarQube accounts, etc.")),(0,a.kt)("p",null,"Note: SonarQube plugin does not support any scope config."),(0,a.kt)("h2",{id:"step-2---collect-sonarqube-data-in-a-project"},"Step 2 - Collect SonarQube Data in a Project"),(0,a.kt)("h3",{id:"step-21---create-a-project"},"Step 2.1 - Create a Project"),(0,a.kt)("p",null,"Collecting SonarQube data requires creating a project first. "),(0,a.kt)("p",null,"Navigate to the Project page from the side menu and create a new project."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"create-a-project",src:o(52315).Z,width:"1624",height:"684"})),(0,a.kt)("h3",{id:"step-22---add-a-sonarqube-connection"},"Step 2.2 - Add a SonarQube Connection"),(0,a.kt)("p",null,"You can add a previously configured SonarQube connection to the project and select the projects you wish to collect data from."),(0,a.kt)("p",null,"Please note: if you don't see the repositories you are looking for, please check if you have added them to the connection first."),(0,a.kt)("h3",{id:"step-23---set-the-sync-policy"},"Step 2.3 - Set the Sync Policy"),(0,a.kt)("p",null,"There are two settings for Sync Policy:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sync Frequency: You can choose how often you would like to sync your data in this step by selecting a sync frequency option or enter a cron code to specify your preferred schedule."),(0,a.kt)("li",{parentName:"ul"},"Skip Failed Tasks: sometime a few tasks may fail in a long pipeline; you can choose to skip them to avoid spending more time in running the pipeline all over again.")),(0,a.kt)("p",null,"Please note that the 'Data Time Range' setting will not affect the SonarQube data to collect, as the SonarQube plugin will only collect the issues and metrics of the latest Sonar scan results."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"sync-policy",src:o(67019).Z,width:"2428",height:"336"})),(0,a.kt)("h3",{id:"step-24---start-data-collection"},"Step 2.4 - Start Data Collection"),(0,a.kt)("p",null,"Click on ",(0,a.kt)("strong",{parentName:"p"},"Collect Data")," to start collecting data for the whole project, including the SonarQube data. "),(0,a.kt)("p",null,"You can also trigger the data sync at the ",(0,a.kt)("strong",{parentName:"p"},"General Settings/Status")," page (the previous ",(0,a.kt)("strong",{parentName:"p"},"Blueprint/Status")," page)."),(0,a.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,a.kt)("p",null,"If you run into any problem, please check the ",(0,a.kt)("a",{parentName:"p",href:"/zh/docs/Troubleshooting/Configuration"},"Troubleshooting")," or ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/apache/incubator-devlake/issues"},"create an issue")))}p.isMDXComponent=!0},52315:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/create-a-project-20e220196044bbf9be564773c45c5990.png"},67019:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/sync-policy-2ac941b2918fc873626375dfe4cbf5f5.png"},32314:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/sonarqube-add-data-connections-9536a4d073ce2e86c6f274d294149935.png"}}]);